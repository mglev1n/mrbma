[{"path":"https://mglev1n.github.io/mrbma/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 Michael Levin Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://mglev1n.github.io/mrbma/articles/get-started.html","id":"mr-bma","dir":"Articles","previous_headings":"","what":"MR-BMA","title":"Get started","text":"function allows user pass set harmonized genetic variants generated using TwoSampleMR::mv_harmonise_data() function, outputs results Mendelian Randomization Bayesian Model Averaging experiment.","code":"# Extract genetic instruments lipid_exposures <- TwoSampleMR::mv_extract_exposures(id_exposure = c(\"ieu-a-299\", \"ieu-a-300\", \"ieu-a-302\")) #> API: public: http://gwas-api.mrcieu.ac.uk/ #> Please look at vignettes for options on running this locally if you need to run many instances of this command. #> Clumping 1, 214 variants, using EUR population reference #> Removing 70 of 214 variants due to LD with other variants or absence from LD reference panel #> Extracting data for 144 SNP(s) from 3 GWAS(s) #> Harmonising HDL cholesterol || id:ieu-a-299 (ieu-a-299) and LDL cholesterol || id:ieu-a-300 (ieu-a-300) #> Harmonising HDL cholesterol || id:ieu-a-299 (ieu-a-299) and Triglycerides || id:ieu-a-302 (ieu-a-302)  # Extract corresponding outcome data cad_outcome <- TwoSampleMR::extract_outcome_data(snps = lipid_exposures$SNP, outcomes = \"ebi-a-GCST005195\") #> Extracting data for 144 SNP(s) from 1 GWAS(s) #> Finding proxies for 2 SNPs in outcome ebi-a-GCST005195 #> Extracting data for 2 SNP(s) from 1 GWAS(s)  # Generate harmonized dataset lipids_cad_harmonized <- TwoSampleMR::mv_harmonise_data(lipid_exposures, cad_outcome) #> Harmonising HDL cholesterol || id:ieu-a-299 (ieu-a-299) and Coronary artery disease || id:ebi-a-GCST005195 (ebi-a-GCST005195) #> Removing the following SNPs for being palindromic with intermediate allele frequencies: #> rs7534572  # Run MR-BMA mr_bma_res <- mr_bma(lipids_cad_harmonized) #> ℹ Preparing input #> ✔ Preparing input [53ms] #>  #> ℹ Running MR-BMA #> ✔ Running MR-BMA [47ms] #>  #> ℹ Removing influential variants #> ✔ Removing influential variants [85ms] #>  #> ℹ Removing outliers #> Warning: `cols` is now required when using unnest(). #> Please use `cols = c(`rf combination`, `posterior probability`, `causal estimate`)` #> ✔ Removing outliers [151ms] #>   # Output best models mr_bma_res$model_best #> # A tibble: 7 × 3 #>   rf_combination                posterior_prob causal_estimate   #>   <chr>                                  <dbl> <chr>             #> 1 ieu-a-300,ieu-a-302                    0.843 0.365,0.219       #> 2 ieu-a-299,ieu-a-300,ieu-a-302          0.156 -0.063,0.361,0.19 #> 3 ieu-a-299,ieu-a-300                    0     -0.131,0.376      #> 4 ieu-a-300                              0     0.393             #> 5 ieu-a-302                              0     0.311             #> 6 ieu-a-299,ieu-a-302                    0     -0.105,0.26       #> 7 ieu-a-299                              0     -0.202  # Output marginal inclusion probabilities for each risk factor mr_bma_res$mip_table #> # A tibble: 3 × 3 #>   rf        mip   mace  #>   <chr>     <chr> <chr> #> 1 ieu-a-300 1     0.364 #> 2 ieu-a-302 1     0.215 #> 3 ieu-a-299 0.157 -0.01"},{"path":"https://mglev1n.github.io/mrbma/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Michael Levin. Author, maintainer.","code":""},{"path":"https://mglev1n.github.io/mrbma/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Levin M (2022). mrbma: Mendelian Randomization Bayesian Model Averaging. https://github.com/mglev1n/mrbma, https://mglev1n.github.io/mrbma/.","code":"@Manual{,   title = {mrbma: Mendelian Randomization Bayesian Model Averaging},   author = {Michael Levin},   year = {2022},   note = {https://github.com/mglev1n/mrbma, https://mglev1n.github.io/mrbma/}, }"},{"path":"https://mglev1n.github.io/mrbma/index.html","id":"mrbma","dir":"","previous_headings":"","what":"Mendelian Randomization Bayesian Model Averaging","title":"Mendelian Randomization Bayesian Model Averaging","text":"goal mrbma implement Mendelian Randomization Bayesian Model Averaging. form multivariable Mendelian randomization can useful prioritizing likely-causal risk factors among set highly-correlated exposures. code adapts approach described : Zuber V, Colijn JM, Klaver C, Burgess S. Selecting likely causal risk factors high-throughput experiments using multivariable Mendelian randomization. Nature Communications. 2020 Dec 1;11(1):1–11. code implements empirical permutation procedure derive p-values using Nyholt procedure effective tests control false discovery rate. approach utilized : Levin MG, Zuber V, Walker VM, Klarin D, Lynch J, Malik R, et al. Prioritizing Role Major Lipoproteins Subfractions Risk Factors Peripheral Artery Disease. Circulation. 2021 Aug 3;144(5):353–64.","code":""},{"path":"https://mglev1n.github.io/mrbma/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Mendelian Randomization Bayesian Model Averaging","text":"can install development version mrbma GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"mglev1n/mrbma\")"},{"path":"https://mglev1n.github.io/mrbma/reference/mr_bma.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform Mendelian Randomization Bayesian Model Averaging — mr_bma","title":"Perform Mendelian Randomization Bayesian Model Averaging — mr_bma","text":"function takes harmonized exposure/outcome data runs Mendelian Randomization Bayesian Model Averaging identify prioritize relationships exposures outcome.","code":""},{"path":"https://mglev1n.github.io/mrbma/reference/mr_bma.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform Mendelian Randomization Bayesian Model Averaging — mr_bma","text":"","code":"mr_bma(   harmonized_data,   prior_prob = 0.5,   prior_sigma = 0.5,   top = 10,   nrepeat = 1e+05,   remove_outliers = TRUE,   remove_influential = TRUE,   calculate_p = FALSE )"},{"path":"https://mglev1n.github.io/mrbma/reference/mr_bma.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform Mendelian Randomization Bayesian Model Averaging — mr_bma","text":"harmonized_data (list) Harmonized data exposures/outcomes interest, generated using TwoSampleMR::mv_harmonise_data() prior_prob (numeric) Prior probability prior_sigma (numeric) Variance prior probability top (numeric) Number top models return results nrepeat (numeric) Number permutations used estimating Nyholt-corrected False Discovery Rate remove_outliers (logical) Remove outlier variants based Q-statistic remove_influential (logical) Remove influential variants based Cook's distance calculate_p (logical) Use empirical permutation Nyholt procedure effective tests estimate p-values","code":""},{"path":"https://mglev1n.github.io/mrbma/reference/mr_bma.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform Mendelian Randomization Bayesian Model Averaging — mr_bma","text":"list containing results MR-BMA analyses. list includes: \"model_best\" = tibble containing list top models \"mip_table\" = tibble containing marginal inclusion probabilities risk factor \"influential_res\" = Diagnostic plots representing detection influential variants \"outlier_res\" = Diagnostic plot representing detection outlier variants","code":""},{"path":"https://mglev1n.github.io/mrbma/reference/mr_bma.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Perform Mendelian Randomization Bayesian Model Averaging — mr_bma","text":"","code":"# Extract genetic instruments lipid_exposures <- TwoSampleMR::mv_extract_exposures(id_exposure = c(\"ieu-a-299\", \"ieu-a-300\", \"ieu-a-302\")) #> API: public: http://gwas-api.mrcieu.ac.uk/ #> Please look at vignettes for options on running this locally if you need to run many instances of this command. #> Clumping 1, 214 variants, using EUR population reference #> Removing 70 of 214 variants due to LD with other variants or absence from LD reference panel #> Extracting data for 144 SNP(s) from 3 GWAS(s) #> Harmonising HDL cholesterol || id:ieu-a-299 (ieu-a-299) and LDL cholesterol || id:ieu-a-300 (ieu-a-300) #> Harmonising HDL cholesterol || id:ieu-a-299 (ieu-a-299) and Triglycerides || id:ieu-a-302 (ieu-a-302)  # Extract corresponding outcome data cad_outcome <- TwoSampleMR::extract_outcome_data(snps = lipid_exposures$SNP, outcomes = \"ebi-a-GCST005195\") #> Extracting data for 144 SNP(s) from 1 GWAS(s) #> Finding proxies for 2 SNPs in outcome ebi-a-GCST005195 #> Extracting data for 2 SNP(s) from 1 GWAS(s)  # Generate harmonized dataset lipids_cad_harmonized <- TwoSampleMR::mv_harmonise_data(lipid_exposures, cad_outcome) #> Harmonising HDL cholesterol || id:ieu-a-299 (ieu-a-299) and Coronary artery disease || id:ebi-a-GCST005195 (ebi-a-GCST005195) #> Removing the following SNPs for being palindromic with intermediate allele frequencies: #> rs7534572  # Run MR-BMA mr_bma_res <- mr_bma(lipids_cad_harmonized) #> ℹ Preparing input #> ✔ Preparing input [67ms] #>  #> ℹ Running MR-BMA #> ✔ Running MR-BMA [167ms] #>  #> ℹ Removing influential variants #> ✔ Removing influential variants [82ms] #>  #> ℹ Removing outliers #> Warning: `cols` is now required when using unnest(). #> Please use `cols = c(`rf combination`, `posterior probability`, `causal estimate`)` #> ✔ Removing outliers [98ms] #>   # Output best models mr_bma_res$model_best #> # A tibble: 7 × 3 #>   rf_combination                posterior_prob causal_estimate   #>   <chr>                                  <dbl> <chr>             #> 1 ieu-a-300,ieu-a-302                    0.843 0.365,0.219       #> 2 ieu-a-299,ieu-a-300,ieu-a-302          0.156 -0.063,0.361,0.19 #> 3 ieu-a-299,ieu-a-300                    0     -0.131,0.376      #> 4 ieu-a-300                              0     0.393             #> 5 ieu-a-302                              0     0.311             #> 6 ieu-a-299,ieu-a-302                    0     -0.105,0.26       #> 7 ieu-a-299                              0     -0.202             # Output marginal inclusion probabilities for each risk factor mr_bma_res$mip_table #> # A tibble: 3 × 3 #>   rf        mip   mace  #>   <chr>     <chr> <chr> #> 1 ieu-a-300 1     0.364 #> 2 ieu-a-302 1     0.215 #> 3 ieu-a-299 0.157 -0.01"},{"path":"https://mglev1n.github.io/mrbma/reference/mrbma-package.html","id":null,"dir":"Reference","previous_headings":"","what":"mrbma: Mendelian Randomization Bayesian Model Averaging — mrbma-package","title":"mrbma: Mendelian Randomization Bayesian Model Averaging — mrbma-package","text":"set functions designed implement Mendelian Randomization Bayesian Model Averaging.","code":""},{"path":[]},{"path":"https://mglev1n.github.io/mrbma/reference/mrbma-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"mrbma: Mendelian Randomization Bayesian Model Averaging — mrbma-package","text":"Maintainer: Michael Levin michael.levin@pennmedicine.upenn.edu (ORCID)","code":""},{"path":"https://mglev1n.github.io/mrbma/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://mglev1n.github.io/mrbma/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://mglev1n.github.io/mrbma/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://mglev1n.github.io/mrbma/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""}]
