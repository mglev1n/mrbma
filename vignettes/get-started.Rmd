---
title: "Get started"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{get-started}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(mrbma)
```

<!-- WARNING - This vignette is generated by {fusen} from /dev/mrbma.Rmd: do not edit by hand -->

<!-- 
Run this 'development' chunk

Store every call to library() that you need to run chunks line by line, as in a classical Rmd for analysis
-->


<!--

# Description of your package

This will fill the description of your package.
Fill and run the content of this chunk, before anything else. 

Note: when you will use other flat templates, this part will be in a separate file. Do not be surprised!
--> 


# MR-BMA

This function allows the user to pass in a set of harmonized genetic variants generated using the `TwoSampleMR::mv_harmonise_data()` function, and outputs the results of a Mendelian Randomization Bayesian Model Averaging experiment.

<!-- 
This first section shows:

- the three parts necessary for a package: 'function', 'examples' and 'tests'.  
  + Note that the three following chunks have names accordingly.

-->


<!--
Here is an example on how to use the function.
This should be a reproducible and working example
-->


```{r examples-mr_bma}
# Extract genetic instruments
lipid_exposures <- TwoSampleMR::mv_extract_exposures(id_exposure = c("ieu-a-299", "ieu-a-300", "ieu-a-302"))

# Extract corresponding outcome data
cad_outcome <- TwoSampleMR::extract_outcome_data(snps = lipid_exposures$SNP, outcomes = "ebi-a-GCST005195")

# Generate harmonized dataset
lipids_cad_harmonized <- TwoSampleMR::mv_harmonise_data(lipid_exposures, cad_outcome)

# Run MR-BMA
mr_bma_res <- mr_bma(lipids_cad_harmonized)

# Output best models
mr_bma_res$model_best

# Output marginal inclusion probabilities for each risk factor
mr_bma_res$mip_table
```

<!--
Here are some unit tests to verify the function works as expected.
-->


  

```{r example-mrbma_input}
```

  

  
    

  

```{r example-mrbma_remove_influential}
```

  

  


  

```{r example-mrbma_remove_outliers}
```

  

    


  

```{r example-mrbma_nyholt_correct}
```

  

  

<!-- 

# Inflate your package

You're one inflate from paper to box.
Build your package from this very Rmd using `fusen::inflate()` 
-->



<!-- 
- Verify your `"DESCRIPTION"` file has been updated
- Verify your function is in `"R/"` directory
- Verify your test is in `"tests/testthat/"` directory
- Verify this Rmd appears in `"vignettes/"` directory 
-->

